<div class="container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <h1 class="text-center mb-3">Registro</h1>

    <div class="mb-3">
      <label class="form-label" for="name">Nombre completo</label>
      <input
        type="text"
        formControlName="name"
        id="name"
        class="form-control"
      />
      <div
        *ngIf="
          form.controls['name'].invalid &&
          (form.controls['name'].dirty || form.controls['name'].touched)
        "
        class="text-danger"
      >
        <div *ngIf="form.controls['name'].errors?.['required']">
          El nombre es obligatorio
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label" for="email">Email</label>
      <input type="text" formControlName="email" class="form-control" />
      <div
        *ngIf="
          form.controls['email'].invalid &&
          (form.controls['email'].dirty || form.controls['email'].touched)
        "
        class="text-danger"
      >
        <div *ngIf="form.controls['email'].errors?.['required']">
          El email es obligatorio
        </div>
        <div *ngIf="form.controls['email'].errors?.['email']">
          El email debe de ser válido
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label" for="password">Contraseña</label>
      <input type="password" formControlName="password" class="form-control" />
      <div
        *ngIf="
          form.controls['password'].invalid &&
          (form.controls['password'].dirty || form.controls['password'].touched)
        "
        class="text-danger"
      >
        <div *ngIf="form.controls['password'].errors?.['required']">
          El password es obligatorio
        </div>
        <div *ngIf="form.controls['password'].errors?.['minlength']">
          El password debe de ser de 8 caracteres
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label" for="confirmPassword"
        >Confirmar Contraseña</label
      >
      <input
        type="password"
        formControlName="confirmPassword"
        class="form-control"
      />
      <div
        *ngIf="
          form.controls['confirmPassword'].invalid &&
          (form.controls['confirmPassword'].dirty ||
            form.controls['confirmPassword'].touched)
        "
        class="text-danger"
      >
        <div *ngIf="form.controls['confirmPassword'].errors?.['required']">
          El password es obligatorio
        </div>
        <div *ngIf="form.controls['confirmPassword'].errors?.['minlength']">
          El password debe de ser de 8 caracteres
        </div>
      </div>
      <div *ngIf="form.errors?.['passwordMismatch']" class="text-danger">
        Los passwords no coinciden
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-sm-10">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            id="agreeTermsConditions"
            formControlName="agreeTermsConditions"
          />
          <label class="form-check-label" for="agreeTermsConditions">
            Acepto los términos y condiciones
          </label>
        </div>
      </div>
      <div
        *ngIf="
          form.controls['agreeTermsConditions'].invalid &&
          (form.controls['agreeTermsConditions'].dirty ||
            form.controls['agreeTermsConditions'].touched)
        "
        class="text-danger"
      >
        <div *ngIf="form.controls['agreeTermsConditions'].errors?.['required']">
          Acepta los términos y condiciones
        </div>
      </div>
    </div>

    <div class="text-center">
      <button class="btn btn-primary mr-1">Registrarse</button>
    </div>
  </form>
  <div class="text-center mt-3">
    ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a>
  </div>
  <!--   <p>{{ form.value | json }}</p>
 -->
</div>
